





Tech Log

2021. 10. 18.


헤이카카오 x 직방 프롭테크 프로젝트, API로 부동산 Bot 만들기








시작하며
안녕하세요. 카카오엔터프라이즈 데이터기획파트의 Minnie 입니다. 포스팅을 시작하기 전에 카카오엔터프라이즈의 데이터기획파트는 어떤 일을 하는지 궁금해하실 분들이 계실 것 같아 저희팀에 대해 짧게 소개하고 싶은데요. 데이터기획파트는 수집하고 분석된 데이터의 인사이트와 가치를 발견하고, 필요한 경우에는 고객사의 데이터 API와 헤이카카오 서비스를 연동하여 더 많은 고객에게 정보를 전파할 수 있도록 기획하는 업무를 담당합니다. 
 
최근 저희 팀은 부동산 산업(Property)에 IT 기술(Technology)이 결합된 ‘프롭테크(Proptech)’ 프로젝트의 일환으로, 이미 상당수의 프롭테크 기술을 보유하고 있는 직방과 함께 부동산 Bot을 기획하여 헤이카카오 서비스에서 부동산 시세를 제공하는 프로젝트를 진행 했는데요. 헤이카카카오에서 말 한마디로 아파트 시세를 검색할 수 있다니 정말 놀랍지 않으신가요? :) 
이제부터 직방과 헤이카카오가 함께한 부동산 Bot 개발 이야기를 들려드리도록 하겠습니다.  
 
프롭테크란?부동산(Property)과 기술(Technology)을 결합한 용어로 인공지능, 빅데이터, IoT 등 최신 기술을 부동산에 접목해 혁신적인 서비스나 산업을 창출하는 것을 의미합니다.
 
[그림 1] 프롭테크


헤이카카오 X 직방 프롭테크 프로젝트
길을 걷다가 ’저 아파트는 얼마일까?’라는 궁금증, 누구나 한 번쯤 가져보셨을 텐데요. 사실 “ㅇㅇ동 아파트 얼마야?” 같은 부동산 시세를 묻는 발화는 꾸준히 카카오미니로 유입되는 발화 중 하나였습니다. 그동안 헤이카카오에서는 몇몇 난제로 인해 관련 발화를 처리하기 어려운 부분이 있었습니다.
 
카카오미니가 아닌 앱으로 아파트의 실시간 시세를 알아보려면 앱을 켜고, ‘아파트' 카테고리로 들어가서, 해당 집 이름을 검색한 다음, 시세를 확인하는 번거로운 과정을 거쳐야 했고, 1분 1초가 바쁜 현대인들에게 이 과정은 결코 (부동산에 엄청 관심 있는 사람이 아니고서야) 짧지 않은 과정이었습니다. 하지만 2021년 5월 헤이카카오에서는 이런 복잡한 과정 없이 말 한마디로 아파트 시세를 조회하는 것이 가능해졌습니다. 지금 한번 스마트폰의 헤이카카오 앱이나 카카오미니 스피커를 통해 “ㅇㅇ동 ㅇㅇ 아파트 시세 알려줘"라고 질문해 보시면, 정확한 부동산 시세에 대한 답변을 들을 수 있으실 거예요. :) 
 
그렇다면 헤이카카오는 어떻게 부동산 질문에 대해 정확한 시세를 제공할 수 있을까요? 
바로 헤이카카오에 직방의 ‘직방 시세  API’를 적용했기 때문입니다. 이번 프로젝트 협업 파트너사인 직방은 부동산 전문 앱으로 이미 많은 프롭테크 기술을 보유하고 있습니다. 이번 부동산 Bot에 적용된 직방 시세 API는 사람의 주관적인 판단 없이 객관적으로 최근 실거래가 정보를 머신러닝으로 분석하여 시세를 도출하는 가치 추정 모델링을 기반으로 한 기술인데요. 직방 시세 API는 같은 아파트 단지 내 같은 동이라도 층수나 방향에 따라 달라지는 아파트 시세를 똑똑하고 정확하게 산출할 수 있는 기술로, 헤이카카오에 부동산 Bot을 구현할 때 반드시 필요한 API였습니다. 
[그림 2] 카카오미니에서 부동산 대화 예시


AI 스피커에서 부동산 시세를!
부동산 실시간 시세 정보는 직방 시세 API를 통해 해결한다고 해도, 헤이카카오에 부동산 Bot을 구현하기까지 그 과정이 쉽지 않았는데요. 헤이카카오 사용자들이 많이 궁금해 하시는 부동산 시세는 매시 매분 실시간으로 변하는 변동 정보라는 점에서 직방 시세 API를 활용하는 것 이외에도 다른 핵심적인 작업이 더 필요했습니다. 
 
우리나라의 부동산 특성상 다양한 주거 형태와 건물의 이름, 그리고 지역・위치에 따른 정확한 구분자를 생성하는 것 기술적으로 어려울 수 있었던 점이었는데요,  그럼 어떻게 저희가 국내  이 문제를 풀어냈는지 살짝 알려드릴게요.
① dev 엔티티활용
이번 직방과의 협업을 통해 카카오 i가 추구하는 가치는 ‘스피커로 아파트 시세정보를 실시간으로 조회할 수 있을 것’이었는데요. 카카오미니가 ‘아파트의 위치와 이름'을 정확히 알아듣고 아파트의 좌표와 아파트 구분자 값을 찾아낼 수 있어야 했습니다. 하지만 전국의 아파트는 수만 나열해도 약 12만 단지로 수동으로 입력하기엔 그 수가 너무  많은 데다가, 3만여 개가 넘는 아파트 이름을 일반적인 ‘엔티티'로 추가하는 것은 분명 무리가 있었습니다. 
 
해서 우리는 NLU에 그 단어들을 밀어넣고 질문시 직방 API 스킬에서 그 답을 값으로 가져오는 구조를 만듭니다. 구조 자체는 일반적인 엔티티->스킬->출력 구조와 다름이 없으나, 그 수가 많기에 불러올 시 약간의 버퍼링이 생깁니다. 조금 아쉬운 부분중 하나이지만 곧 고쳐질 것으로 기대합니다. 이제 카카오미니가 소리만으로 어떤 아파트인지 구분하는것이 가능해졌습니다.   
 
② 시스템 엔티티 활용  
우리나라의 아파트 이름은 참 다양하고도 많습니다. 그중에 브랜드명, 지명, 사물의 이름을 활용한 아파트명들은 전국에 중복되는 수 만해도 어마어마할 텐데요. 이 중에 사용자가 원하는 아파트를 찾아내려면 ‘지역' 정보가 필요합니다.
 
친절하게 사용자가 ‘잠실의 장미 아파트 알려줘'라고 발화할 수 도 있지만, ‘장미아파트 시세 알려줘'라고 했을 때 가장 가까운 장미 아파트의 시세를 알려줄 수 있는 그림도 필요한데요. 이를 위해, 좌표 정보를 담은 시스템 엔티티인 sys.location를 활용했습니다. 사용자가 발화를 하면 부동산 Bot은 시스템 엔티티의 로컬 좌표 정보와 사용자의 카카오미니 기기 정보와 헤이카카오 앱의 모바일 앱의 위치 정보를 대조하여 가장 가까운 아파트를 알려주게 됩니다. 그리고 여기서 중요한 사실! 부동산 Bot은 정확도 높은 정보를 전달하기 위해 오늘도 열심히 학습 중이라는 것입니다.  
[그림 3] 오늘도 카카오미니는 열심히 공부합니다


 
③ 예상발화 학습
부동산 Bot 개발의 마지막 단계로 사용자 예상 발화를 입력하고 직방의 API와 부동산 Bot 연결을 진행했습니다.  “대치동 은마아파트 얼마야?” ”당산 삼성 래미안 아파트 실거래가 얼마야?” ”타워팰리스 1차 실거래가 알려줘” 등의 발화를 했을 때, 시세 값은 범위에 해당하므로 헤이카카오는 즉시 직방의 API를 통해 해당 아파트의 시세 값을 얻게 되고, “대치동 대치 은마 아파트의 시세는 N원에서 N원이에요. 출처는 직방이에요”라고 대답이 나가게 됩니다. 이 모든 일련의 과정은 단지 몇 초 안에 일어나기 때문에 최대한 많은 예상 발화를 입력해 머신러닝을 시켜 다양한 사용자의 발화에 대해 보다 유연하게 대처할 수 있도록 학습을 시켰습니다.  
 
마무리하며
직방과 함께한 부동산 Bot의 개발 여정 재미있게 읽으셨나요? 현재 헤이카카오의 부동산 Bot은 아파트 시세 정보를 제공하고 있지만, 앞으로 아파트 시세뿐만 아니라 빌라, 다세대, 오피스텔, 원룸 등 다양한 주거 형태에 대한 부동산 시세도 지원할 예정입니다. 또한 현재는 부동산 Bot이 헤이카카오 앱과 카카오미니 스피커에서 가능하기 때문에 달리는 차 안에서도 '헤이카카오, ㅇㅇ아파트 얼마야?' 라고만 물어봤을 때도 똑똑하게 알려준답니다.
 
카카오미니 스피커나 스마트폰의 헤이카카오 앱을 열고 지금 한번 “헤이 카카오, ㅇㅇ아파트 현재 시세 알려줘!”라고 물어봐 주세요. 급속도로 발전하고 있는 프롭테크의 중심에 헤이카카오도 발맞추어 동행할 것입니다. 
그럼 앞으로도 데이터기획팀에서 추진하고 있는 헤이카카오의 무궁무진한 도전을 기대해 주세요 :) 감사합니다. 
 
 




Minnie (한민희)
데이터 서비스에 대해 고민하는 디자이너 Minnie입니다







공유하기

게시글 관리


구독하기카카오엔터프라이즈 기술블로그 Tech&(테크앤)


저작자표시 비영리 변경금지






Tag
API, api기술, Kakao Enterprise, 봇개발, 봇기획, 부동산api, 카카오엔터프라이즈, 카카오엔터프라이즈 기술블로그, 프롭테크, 헤이카카오


관련글






내 마음대로 설정하는 나만의 호출명령어







WebRTC 응용 서비스를 개발하는 2가지 방법







한국어 자연어 처리 기술과 AI, 어디까지 왔니?







헤이카카오를 '자비스'로 만들어보자





댓글0










